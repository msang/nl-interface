
## Description

This repository contains the source code and resources required to run your own conversational agent for energy feedback using Telegram as messaging channel.


## Repository Structure

The repository is organized as follows:

- `data/`: Contains training and evaluation files for the RASA model.
- `models/`: Holds the latest pre-trained models of the conversational agent.
- `actions/`: Includes custom actions with calls to external modules and databases.
|__`Dockerfile`: Dockerfile to build the custom action container
|__ `Dockerfile.ngrok`: To install and configure Ngrok and run the script `connect_to_telegram.py` 
|__ `requirements-actions.txt`: dependency file to run the action server
|__ `requirements_ngrok.txt`: dependency file needed to run the script `connect_to_telegram.py`
|__ `actions.py`: implmentation of the custom actions
|__ `connect_to_telegram.py`: Python script that runs ngrok and saves the public URL generated by ngrok into `credentials.yml`
- `config.yml`: Defines the training configuration for RASA NLU and RASA Core.
- `domain.yml`: Defines the domain of the conversational agent, including intents, actions, entities, and slots.
- `credentials.yml`: Contains credentials for integration with external platforms (in this setting we used Telegram)
- `endopoints.yml`: Contains the endpoint for the rasa action server
- `docker-compose.yml`: Runs all the containers needed for the agent to work (RASA server, custom action server, Duckling and Ngrok for tunneling services)


## Requirements
To run the agent, please meake sure you have the following installed:
- Python 3.9
- Docker & Docker Compose ([Docker Desktop for Windows](https://www.docker.com/products/docker-desktop/))


You will also need to retrieve your API credentials for the following services:
- [Ngrok](https://ngrok.com/)
- [SolarEdge Monitoring Platform](https://www.solaredge.com/it/products/software-tools/monitoring-platform)
- [Telegram](https://rasa.com/docs/rasa/connectors/telegram) 


## Getting Started

To begin using the agent, follow these steps:

1. Clone the repository and swith to the right branch:

    ```bash
    git clone https://github.com/msang/nl-interface.git
	cd nl-interface
	git checkout dev-docker
    ```

2. Re-name and edit all the .env files and the `credentials.yml` file. 

3. Create and activate a virtual environment 

4. Build the containers and run the services through Docker Compose:

	```bash
	docker-compose up --build
    ```
	
5. Open your bot in Telegram to interact with the agent.